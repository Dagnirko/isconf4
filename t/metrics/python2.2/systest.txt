test1> COVERAGE=1; export COVERAGE
test2> COVERAGE=1; export COVERAGE
test3> COVERAGE=1; export COVERAGE
test4> COVERAGE=1; export COVERAGE
test1> hostname 
test2> hostname 
test3> hostname 
test4> hostname 
a.hostname test1
b.hostname test2
c.hostname test3
d.hostname test4
test1> /tmp/isconftest/t/isconf stop
test1> rm -rf /tmp/var
test1> rm -rf /tmp/labtest
test2> /tmp/isconftest/t/isconf stop
test2> rm -rf /tmp/var
test2> rm -rf /tmp/labtest
test3> /tmp/isconftest/t/isconf stop
test3> rm -rf /tmp/var
test3> rm -rf /tmp/labtest
test4> /tmp/isconftest/t/isconf stop
test4> rm -rf /tmp/var
test4> rm -rf /tmp/labtest
test1> /tmp/isconftest/t/isconf start
test1> /tmp/isconftest/t/isconf up
test2> /tmp/isconftest/t/isconf start
test2> /tmp/isconftest/t/isconf up
test3> /tmp/isconftest/t/isconf start
test3> /tmp/isconftest/t/isconf up
test4> /tmp/isconftest/t/isconf start
test4> /tmp/isconftest/t/isconf up
test1> mkdir -p /tmp/labtest
# scp /tmp/@31556.0 root@test1:/tmp/labtest/1
test1> cat /tmp/labtest/1
test1> /tmp/isconftest/t/isconf snap /tmp/labtest/1
test1> /tmp/isconftest/t/isconf snap foo
test1> /tmp/isconftest/t/isconf -m 'test' lock
test1> /tmp/isconftest/t/isconf exec mkdir -p /tmp/labtest
test1> /tmp/isconftest/t/isconf snap /tmp/labtest/1
# scp /tmp/@31556.1 root@test1:/tmp/labtest/2
# COVERAGE=1 ssh root@test1 chmod +x /tmp/labtest/2
test1> /tmp/isconftest/t/isconf snap /tmp/labtest/2
test1> /tmp/isconftest/t/isconf exec /tmp/labtest/2 'hey there world!'
test1> cat /tmp/labtest/2.out
test2> /tmp/isconftest/t/isconf up
test2> test -f /tmp/labtest/1
test2> test -f /tmp/labtest/2.out
test1> /tmp/isconftest/t/isconf ci
test2> /tmp/isconftest/t/isconf up
test2> cat /tmp/labtest/1
test2> cat /tmp/labtest/2.out
test2> grep message: /tmp/var/isfs/cache/example.com/volume/generic/journal | grep test | wc -l
test2> /tmp/isconftest/t/isconf stop
test2> rm -rf /tmp/var
test2> rm -rf /tmp/labtest
test2> /tmp/isconftest/t/isconf start
test2> /tmp/isconftest/t/isconf up
test2> cat /tmp/labtest/2.out
test1> /tmp/isconftest/t/isconf -m 'test multiple ci' lock
Traceback (most recent call last):
  File "runlabtest.py", line 363, in ?
    main()
  File "runlabtest.py", line 323, in main
    a.isconf("-m 'test multiple ci' lock")
  File "runlabtest.py", line 154, in isconf
    self.sess(args,rc=rc,blind=blind,timeout=timeout)
  File "runlabtest.py", line 132, in sess
    self.s.expect("(.*)errno=(\d+),%s\r\n" % tag,timeout=timeout)
  File "/usr/lib/python2.2/site-packages/pexpect.py", line 692, in expect
    return self.expect_list(compiled_pattern_list, timeout)
  File "/usr/lib/python2.2/site-packages/pexpect.py", line 835, in expect_list
    raise TIMEOUT (str(e) + '\n' + str(self))
pexpect.TIMEOUT: Timeout exceeded in read_nonblocking().
<pexpect.spawn instance at 0x821aa3c>
pattern_list:
    (.*)errno=(\d+),0.695897442329

before: isconf: info: test1 is on generic branch
isconf: info: generic locked

after: pexpect.TIMEOUT
match: None
match_index: None
exitstatus: None
flag_eof: 0
pid: 31557
child_fd: 3
timeout: 30
delimiter: pexpect.EOF
log_file: None
Command exited with non-zero status 1
33.61user 0.44system 3:23.19elapsed 16%CPU (0avgtext+0avgdata 0maxresident)k
0inputs+0outputs (8070major+4013minor)pagefaults 0swaps
